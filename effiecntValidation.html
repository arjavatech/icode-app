<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/intl-tel-input@17.0.13/build/css/intlTelInput.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/intl-tel-input@17.0.13/build/js/intlTelInput.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/intl-tel-input@17.0.13/build/js/utils.js"></script>
    <title>Phone Validation</title>
</head>
<style>
    .error {
        color: red;
        font-size: 0.9em;
        margin-top: 5px;
        display: block;
    }
</style>
<body>
    <form id="form1" class="validate-form">
        <label for="userName">UserName</label>
        <input type="text" name="userName" required id="userName">
        <label for="fatherName">Father Name</label>
        <input type="text" name="fatherName" required id="fatherName">
        <label for="motherName">Mother Name</label>
        <input type="text" name="motherName" required id="motherName">
        <button type="submit">Submit</button>
    </form>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const forms = document.querySelectorAll('.validate-form');

            forms.forEach((form) => {
                form.addEventListener('submit', (event) => {
                    event.preventDefault();
                    clearErrors(form);

                    const { isValid, errors } = validateForm(form);
                    if (!isValid) {
                        showErrors(form, errors);
                    } else {
                        // Handle the form submission,e.g., send data via AJAX
                        console.log('Form is valid and ready for submission');
                    }
                });
            });
        });

        function validateField(field) {
            const onlyLetters = /^[A-Za-z\s]+$/;
            if (!field.value.trim()) {
                return 'This field is required';
            }
            if (!onlyLetters.test(field.value)) {
                return 'Only letters are allowed';
            }
            return null;
        }

        function validateForm(form) {
            let isValid = true;
            const errors = {};

            Array.from(form.elements).forEach((field) => {
                if (field.tagName.toLowerCase() !== 'button') {
                    const error = validateField(field);
                    if (error) {
                        isValid = false;
                        errors[field.name] = error;
                    }
                }
            });

            return { isValid, errors };
        }

        function showErrors(form, errors) {
            Array.from(form.elements).forEach((field) => {
                if (errors[field.name]) {
                    const errorElement = document.createElement('span');
                    errorElement.className = 'error';
                    errorElement.textContent = errors[field.name];
                    field.parentNode.insertBefore(errorElement, field.nextSibling);
                }
            });
        }

        function clearErrors(form) {
            const errorElements = form.querySelectorAll('.error');
            errorElements.forEach((el) => el.remove());
        }
    </script>

    
</body>
</html>
